<h2>ğŸš— Vehicle Search</h2>

<form (ngSubmit)="executeSearch()">
  <div>
    <label for="brand">Brand:</label>
    <input id="brand" [(ngModel)]="search.brand" name="brand">
  </div>
  
  <div>
    <label for="model">Model:</label>
    <input id="model" [(ngModel)]="search.model" name="model">
  </div>

  <div>
    <label for="category">License Category (e.g., B):</label>
    <input id="category" [(ngModel)]="search.licenseCategory" name="licenseCategory">
  </div>
  
  <div>
    <label for="status">Status:</label>
    <input id="status" [(ngModel)]="search.status" name="status">
  </div>

  <div>
    <label for="year">Min. Year:</label>
    <input id="year" type="number" [(ngModel)]="search.year" name="year">
  </div>
  
  <div>
    <button type="submit">ğŸ” Search</button>
    <button type="button" (click)="resetSearch()">ğŸ”„ Reset</button>
  </div>
</form>

<hr>

<h2>Vehicle List</h2>

<div *ngIf="isLoading" class="loading-message">
  Loading vehicles...
</div>

<div *ngIf="error" class="error-message">
  Error: {{ error }}
</div>

<table *ngIf="!isLoading && vehicles.length > 0" class="vehicle-table">
  <thead>
    <tr>
      <th>Reg. Number</th>
      <th>Brand</th>
      <th>Model</th>
      <th>Year</th>
      <th>Mileage (km)</th>
      <th>Category</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let vehicle of vehicles">
      <td>{{ vehicle.registrationNumber }}</td>
      <td><b>{{ vehicle.brand }}</b></td>
      <td>{{ vehicle.model }}</td>
      <td>{{ vehicle.year }}</td>
      <td>{{ vehicle.mileage | number }}</td>
      <td>{{ vehicle.licenseCategory }}</td>
      <td><span [class.available]="vehicle.status === 'AVAILABLE'">{{ vehicle.status }}</span></td>
    </tr>
  </tbody>
</table>

<div *ngIf="!isLoading && vehicles.length === 0" class="no-data-message">
  No vehicles found in the system.
</div>